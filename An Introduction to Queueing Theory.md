# An Introduction to Queueing Theory

### 前言

本书第一版出版后，与学术界的大多数作者一样，作者觉得其中可以进行一些改进。 因此，在此修订版中，作者借此机会进行了更改，希望这将增加本书的实用性。 一个主要的变化是在特邀作者的帮助下包含了额外的主题，以扩大分析方法的范围和排队模型的适用性。

本版包括第一版中涵盖的所有主题，并进行了一次重大调整。 关于更新模型的简短章节已被吸收到另外两章中，第 3 章中的理论部分涵盖了随机过程的基本概念，第 6 章中的建模部分以及扩展的马尔可夫模型。

第一版所涵盖主题的叙述中的另一个变化是在分析或推导需要超出第一版前言中所述的数学背景时警告读者。 在这种情况下，建议读者在不牺牲对主题的理解的情况下跳过此类分析或推导。

特约客座作者 Srinivas R. Chakravarthy 教授撰写了一章介绍矩阵分析方法作为排队系统分析的替代方法。 矩阵分析方法是由 Marcel Neuts 教授在 1970 年代引入的，并在 1980 年代与他的同事（包括本章的作者）一起扩展了它的范围。 从那时起，它在排队系统分析中的影响范围越来越广。 此时可以毫不夸张地说，在应用排队论方面所做的大部分新研究都采用了这种方法。

为了扩大本书对应用科学家的吸引力，还包括一章关于排队论在制造系统分析中的应用和另一章在计算机和通信系统中的应用。 第一个是由Andrew Junfang Yu教授撰写的新章节。

第二章由 Krishna M. Kavi 教授撰写，是第一版中一章的扩展版本，其中也包括模拟。

在这个版本的排队系统模拟中，单独有一章。在目前排队论的所有应用领域中，计算机和通信系统以及制造系统因其广度和实用性而脱颖而出。 出于这个原因，这两章被包括在这个版本中作为排队论的应用领域。

本书第一版前言中的大部分陈述也适用于本版。 一些额外的确认也是有序的。 作者感谢三位贡献作者在三个不同领域增加了他们的专业知识。 作者感谢南卫理公会大学和地球与人类研究所对他的退休项目的持续支持。 早期材料中的一些更改是为了回应第一版审阅者的评论。 作者要感谢他们。 他还要感谢 Birkhauser/Springer 的编辑和工业和技术统计系列编辑 N. Balakrishnan 教授发起和支持本次修订。感谢 Sheila Crain 女士以技巧和耐心协助准备手稿。

提交人感谢他的妻子 Girija 在这个项目中支持他。1960 年代初，康奈尔大学的 N. U. Prabhu 教授向作者介绍了排队理论，当时他们还在西澳大利亚大学。因此，本书献给帕布教授，以表彰他在作者学术生涯中所扮演的角色。

## Chapter 1 Introduction

### 1.1 Basic System Elements

队列（或等候线）帮助设施或企业以有序的方式提供服务。 排长队是一种社会现象，如果能对其进行管理，让等待的单位和服务的单位都获得最大的利益，对社会是有益的。 例如，曾经有一段时间，在航空公司航站楼，乘客在值机柜台前排成不同的队列。 但是现在我们总是看到只有一条线进入几个计数器。 这是认识到单线政策更好地为乘客和航空公司管理服务的结果。 这样的结论是从队列的形成和服务的提供方式的分析中得出的。 该分析基于建立一个数学模型，该模型表示加入队列的乘客的到达过程、允许他们进入服务的规则以及为乘客提供服务所需的时间。 排队理论体现了此类模型的全部范围，涵盖了所有包含排队特征的可感知系统。

我们将需要服务的单位（无论是人还是其他人）确定为客户。 提供服务的单元称为服务器。 无论物理环境的性质如何，客户和服务器的这一术语都是在一般意义上使用的。 下面给出了一些例子：

(a) 在通信系统中，语音或数据流量排队等待传输。一个简单的例子是电话交换机。

(b) 在具有多个工作站的制造系统中，在一个工作站完成工作的单元等待进入下一个工作站。

(c) 需要维修的车辆在车库等候。

(d) 患者到医生诊所接受治疗。

这种类型的许多例子每天都在发生。 在分析它们时，我们可以确定系统的一些基本元素。

输入过程 如果到达的发生和服务的提供严格按计划进行，就可以避免排队。 但在实践中这不会发生。 在大多数情况下，到达是外部因素的产物。 因此，最好的办法是用随机变量来描述输入过程，这些随机变量表示在一个时间间隔内到达的数字或连续到达之间的时间间隔。 如果客户成群结队到达，他们的规模也可以是一个随机变量。

服务机制 服务机制所涉及的不确定性包括服务器数量、随时服务的客户数量、服务的时长和方式。 队列网络由多个串联和/或并联排列的服务器组成。 在适当的情况下，随机变量用于表示服务时间和服务器数量。 如果为客户分组提供服务，他们的规模也可以是一个随机变量。

系统容量 在排队系统中一次可以等待的顾客数量是需要考虑的重要因素。 如果等候室很大，人们可以假设从所有实际目的来看，它都是无限的。 但是我们对电话系统的日常经验告诉我们，在等待获得免费线路时容纳我们的呼叫的缓冲区的大小也很重要。

排队纪律 所有其他有关排队行为规则的因素都可以归入这一标题下。 其中之一是服务器在接受客户服务时遵循的规则。 在这种情况下，诸如“先到先得”(FCFS)、“后到先得”(LCFS) 和“随机选择服务”(RS) 等规则是不言自明的。 其他如“循环”和“最短处理时间”可能需要一些详细说明，在后面的章节中提供。 在许多情况下，某些类别的客户优先于其他类别的服务。 为了计算机和通信系统的高效运行，还引入了许多其他队列规则。 此外，客户行为的其他因素也需要考虑，例如犹豫不决、背信弃义和争吵。

这些元素的标识提供了一种分类法，用于象征性地表示具有各种系统元素的排队系统。 排队论中广泛使用的基本表示是 D. G. Kendall (1953) 提出的，由表示三个元素的符号组成：输入、服务和服务器数量。 例如，使用 M 表示泊松或指数，D 表示确定性（常数），$E_k$ 表示具有尺度参数 k 的 Erlang 分布，以及 $G$ 表示一般（也是 GI，一般独立）我们写：

M/G/1：泊松到达，一般服务，单服务器 

$E_k$/M/1：厄兰到达，指数服务，单服务器 

M/D/s：泊松到达，恒定服务，s 服务器。

### 1.2 Problems in a Queueing System		

排队系统分析的最终目标是了解其底层流程的行为，以便在其管理中做出明智的决策。 在这个过程中可以识别出三种类型的问题。

行为问题 对排队系统行为问题的研究旨在了解它们在各种条件下的行为。 排队论的大部分结果是基于对行为问题的研究。

分析中使用了基础过程的各种元素之间的概率关系的数学模型。 为了使这些想法具体化，让我们定义一些稍后正式定义的术语。 由时间等参数索引的随机变量的集合或序列称为随机过程； 例如，每小时记录一个城市发生的事故数量。 在排队系统的上下文中，以时间为参数的顾客数量是一个随机过程。 令 $Q(t)$​​​​ 为时间 $t$​​​​ 时系统中的客户数量。 该数字是 $(0, t)$​​​​ 期间到达和离开的数量之差。 分别设 $A(t)$​​​​ 和 $D(t)$​​​ 为这些数字。 一个简单的关系就是 $Q(t) = A(t) − D(t)$​​​。 为了有效地管理系统，人们必须了解过程 $Q(t)$​​​ 随时间的变化。 由于过程 $Q(t)$​​ 依赖于 $A(t)$​ 和 $D(t)$，两者也是随机过程，因此也应该了解它们的性质和两者之间的依赖特性。所有这些都是不同程度的现实主义的理想化模型。 正如在许多其他科学分支中所做的那样，对它们进行分析研究，希望从此类研究中获得的信息对决策过程有用。

除了系统中的客户数量（我们称为队列长度）之外，新到达的客户必须等待其服务开始的时间（等待时间）以及服务器持续忙碌（忙碌时段）或持续的时间长度 idle（空闲期）是主要的兴趣特征。 需要注意的是，队列长度和等待时间是随机过程，繁忙期是一个随机变量。 需要随机过程和随机变量的分布特征来了解它们的行为。 由于时间是一个因素，因此分析必须区分时间相关（也称为瞬态）和限制性（也称为长期）行为。 在某些条件下，随机过程可能会趋于稳定状态或平衡状态，其中其分布特性与时间无关。

统计问题 在统计问题下，我们包括分析经验数据以确定正确的数学模型，以及确定所提出模型是否合适的验证方法。 按时间顺序，统计研究先于行为研究，这可以从 A. K. Erlang 的早期论文（如 Brockmeyer 等人（1960 年）和其他人的报道）中看出。 为了深入了解正确数学模型的选择，可用于推导出其属性，统计研究是基础。

在建模过程中，我们对模型的基本元素进行了一些假设。 自然，应该有一种机制可以验证这些假设。 从测试到达和服务分布的拟合优度开始，人们需要估计模型的参数和/或测试有关系统参数或行为的假设。 统计程序发挥作用的其他重要问题是确定元素之间的固有依赖性以及系统对时间的依赖性。

决策问题 在这个标题下，我们包括了排队系统操作中固有的所有问题。 一些这样的问题本质上是统计的。 其他与系统的设计、控制和有效性测量有关

### 1.3 A Historical Perspective

排队论的历史可以追溯到 100 多年前。 约翰森的“等待时间和呼叫次数”（一篇发表于 1907 年的文章，并在 1910 年 10 月伦敦邮局电气工程师杂志上重印）似乎是关于该主题的第一篇论文。 但是这篇论文中使用的方法在数学上并不精确，因此，从精确处理的角度来看，具有历史意义的论文是 AK Erlang 的“The Theory of Probabilities and Telephone Conversations”（Nyt tidsskrift for Matematik, B,  20 (1909)，第 33 页)。 在这篇论文中，他为泊松（以及指数）分布在排队论中的地位奠定了基础。 他在接下来的 20 年中撰写的论文包含了一些最重要的概念和技术； 统计均衡的概念和写下状态平衡方程的方法就是两个这样的例子。 特别值得一提的是他的论文“关于电路数量的合理确定”（见 Brockmeyer 等人，2007 年）。
   (1960))，其中首次解决了排队论中的优化问题。

需要注意的是，在 Erlang 的工作中，以及其他人在二三十年代所做的工作中，动机一直是拥塞的实际问题。 例如，参见 Molina (1927) 和 Fry (1928)。 在接下来的二十年中，一些理论家对这些问题产生了兴趣，并开发了可用于更复杂情况的通用模型。 一些有重要贡献的作者是 Crommelin、Feller、Jensen、Khintchine、Kolmogorov、Palm 和 Pollaczek。 可以在 Syski (1960) 和 Saaty (1961) 的书中找到对这些作者所做调查的详细说明。  Kolmogorov 和 Feller 对纯不连续过程的研究为后来发展起来的马尔可夫过程理论奠定了基础。

Pollaczek (1934) 注意到均衡理论在许多排队情况下的不足，开始研究系统在有限时间间隔内的行为。 从那时起，在他的整个职业生涯中，他在排队系统的分析行为研究方面做了大量工作。 参见 Pollaczek (1965)。 对系统基本随机过程进行分析研究的趋势仍在继续，排队论被证明是想要对涉及数学模型的随机过程进行基础研究的研究人员的沃土。

在随机系统分析中起着重要作用的一个概念是统计均衡。 这是随机过程的一种状态，表示其行为与时间和初始状态无关。 假设我们定义

<img src="C:\Users\Lenovo\AppData\Roaming\Typora\typora-user-images\image-20210826164113840.png" alt="image-20210826164113840" style="zoom:67%;" />

作为过程的转移概率 $\{Q(t), t ≥ 0\}$​，它是过程在时间 $t$ 的状态概率分布的陈述，条件是它在时间 $s$ 的状态，$s < t$。 该过程达到统计平衡的陈述意味着

<img src="C:\Users\Lenovo\AppData\Roaming\Typora\typora-user-images\image-20210826164256180.png" alt="image-20210826164256180" style="zoom:67%;" />

它不依赖于时间 $t$ 和初始状态 $i$。

尽管 Erlang 没有用这些术语明确说明他的结果，但他在他的结果中使用了这个基本概念。 时至今日，在实践中使用的绝大多数排队论结果都是在统计均衡假设下推导出来的。 然而，要完全理解底层过程，时间相关的分析是必不可少的。 但是所涉及的过程并不简单，对于这样的分析，复杂的数学程序变得必要。

因此，排队理论的发展可以在两条平行的轨道上进行追踪：

(i) 使用现有的数学技术或开发新的数学技术来分析底层过程 

(ii) 结合各种系统特征，使模型紧密地代表现实世界 现象

排队论作为一种可识别的文献主体，基本上是由 1950 年代和 1960 年代的基础研究定义的。 有关这一时期研究的完整参考书目，请参阅 Syski (1960)、Saaty (1961, 1966) 和 Bhat (1969)。在此仅提及笔者认为对排队论研究方向产生深远影响的几篇论文和书籍。

队列 M/M/1（泊松到达、指数服务、单服务器）是最早被分析的系统之一。 在统计均衡下，状态平衡方程很简单，队列大小的极限分布是通过递归参数得到的。 但是对于依赖于时间的解决方案，需要更高级的数学技术。  Bailey (1954) 使用控制基本过程的微分方程的生成函数给出了第一个这样的解决方案，而 Lederman 和 Reuter (1956) 在他们的解决方案中使用了谱理论。 拉普拉斯变换后来用于同一问题，并且它们与生成函数一起使用一直是排队系统分析中的标准和流行程序之一。

Kendall (1951, 1953) 提出了一种概率分析方法，当时他证明可以在系统 M/G/1 和 GI/M/s 的队列长度过程中识别嵌入的马尔可夫链。  Lindley (1952) 导出了在一般队列 GI/G/1 中嵌入马尔可夫点定义的等待时间分布的积分方程。 这些调查导致 1960 年代在排队系统分析中使用更新理论。 通过将马尔可夫点的队列长度视为随机游走，嵌入马尔可夫链的识别也促进了组合方法的使用。 参见 Prabhu 和 Bhat (1963) 和 Tak`acs (1967)。

随机现象的数学建模是一个近似的过程。概率模型使它更接近现实； 然而，由于存在不确定性，它不能完全代表现实世界的现象。 因此，人们可以在模型的简单性和表示的接近性之间划清界限，这是一个方便的问题。

在 1960 年代，几位作者开始研究近似值在排队系统分析中的作用。 由于在应用中需要可用的结果，文献中出现了各种类型的近似值。有关广泛的参考书目，请参阅 Bhat 等人。  (1979)。 举几个例子，一种近似方法是在交通繁忙时的分析（当交通强度，输入与输出的比率，接近 1）和这个主题下的调查是由金曼发起的（有关广泛的参考书目，请参见 Kingman (1965)) 的目的是为最终结果推导出更简单的表达式。 繁忙的交通假设也导致了扩散近似以及 Iglehart 等研究人员的弱收敛结果（参见 Iglehart 和 Whitt (1970a, b)）。 另请参阅 Whitt (2000) 的广泛参考书目。

Gaver 对 M/G/1 队列虚拟等待时间的分析 (1968) 是对排队系统使用扩散近似的初步努力之一。  Newell (1968, 1971) 提出的流体近似将系统中的到达和离开过程视为流入和流出储层的流体，它们的特性是使用应用数学技术推导出来的。 有关一些流体模型的最新调查，请参见 Kulkarni (1997)。

到 1960 年代末，大多数可以被视为现实世界现象的合理模型的基本排队系统都已被分析，并且发表的论文仅涉及系统的微小变化，而对方法论没有太大贡献。 甚至有人声称排队理论处于其生命的最后阶段。 但是这样的预测是在不知道计算机技术的进步对排队论意味着什么的情况下做出的。 受计算机技术启发或辅助的进步来自两个方面：方法论和应用程序。 下面给出了在这些进展中探讨的一些突出主题。 由于在应用概率、方法论和应用程序中，以共生的方式促进主题的发展，因此它们在下面列出而未分类。

(i) 矩阵分析方法 

从引入相位类型概率分布开始，Marcel Neuts (1975) 开发了一种分析技术，将早期的变换方法扩展和修改为多变量，并使其适用于算法解决方案。 参见 Neuts (1978, 1981)、Sengupta (1989) 和 Ramaswami (1990, 2001)。 相类型分布在系统元素表示中的使用和矩阵分析方法在其分析中的使用显着扩展了可推导出可用结果的排队系统的范围。 有关详细信息，请参阅第 8 章。

(ii) 变换反演 

排队系统的传统分析方法依赖于反演生成函数和/或拉普拉斯变换来推导出有用的结果。变换反演的复杂性激发了对它的更多研究，从 Abate 和 Dubner (1968)、Dubner 和 Abate (1968) 以及 Abate 等人开始。  (1968) 已经发表了许多关于这个主题的论文。有关傅立叶级数反演方法的最新技术状况的全面调查，请参阅 Abate 和 Whitt (1992)。

在拉普拉斯变换和概率生成函数的求逆中，求特征方程的根是关键步骤。 著名的 Rouch´e 定理只建立根的存在，而不是根的大小。  M. L. Chaudhry 教授 (1992) 在适应各种求根算法以用于逆变换和生成函数方面的开创性和艰苦工作。 从 1970 年代开始，他与他的同事一起对各种感兴趣的排队系统进行了大量研究（参见 Chaudhry 和 Templeton (1983)）。 例如乔杜里等人。  (1992) 提供了一个很好的说明。

(iii) 排队网络 

关于排队网络的第一篇文章是由 J. Jackson (1957) 撰写的。 排队网络分析的数学基础归功于 Whittle (1967, 1968) 和 Kingman (1969)，他们用人口过程的术语来处理它们。 自 1970 年代初以来，复杂的排队网络问题已被广泛研究。

推进对排队网络特性的研究的两个关键概念是：离开 M/M/s 类型队列的泊松性质 (Burke 1956) 和状态转换中的局部平衡 (Whittle 1967, 1968)。  M → M 性质，作为计算机网络文学中的泊松性质，是极限分布呈乘积形式的必要条件。  Baskett 等人超越了简单的 Jackson 网络。  (1975) 表明解决方案的乘积对于比具有简单 M/M/s 类型节点的网络更通用，例如具有状态相关服务； 异构服务时间； 考县服务时间分布； 处理器共享规则； 和后到先得的纪律。

自 Baskett 等人发表以来，大量文献在排队网络的性能建模方面有所增长。  Courtois (1977), Kelley (1979), Sauer and Chandy (1981), Lavenberg (1983), Disney and Kiessler (1987), Malloy (1989), Perros (1994), Gelenbe and Pujolle (1999) and Giambene (2005) 是一些关于这个主题的重要书籍。

(iv) 计算机和通信系统 

分析快速增长的计算机和通信行业中的交通过程的需要是 1960 年代后排队理论重新兴起的主要原因。 对排队网络的研究（参见前面引用的参考资料）以及 Coffman 和 Denning（1973 年）和 Kleinrock（1975 年，1976 年）等书籍为排队理论在计算机和通信系统操作中的应用的蓬勃发展奠定了基础。

在跟踪这种增长时，我们可以引用 Queuing Systems 期刊中的以下调查类型文章：Denning 和 Buzen (1978) 关于排队网络模型的操作分析；  Coffman 和 Hoffri (1986)，描述了重要的计算机设备和用于分析其性能的排队模型；  Yashkov (1987) 关于分析分时模型，与 McKinney (1969) 在同一主题上的互补； 由 Mitra 和 Mitrani (1991)、Doshi 和 Yao (1995) 以及 Konstantopolous (1998) 编辑的三期特刊； 以及 Mitra 等人的论文。(1991) 关于通信系统。 关于排队应用的研究也可以在各种计算机期刊中找到。 已经出现并继续出现关于该主题的几本书。 第 13 章讨论了一些最近的发展。

(v) 制造系统 

Palm (1947) 和 Benson and Cox (1951, 1952) 分析的机器干扰问题是制造系统中使用排队理论方法的第一个问题。 经典的杰克逊网络 (1957) 起源于制造环境，因为工作车间是一个机器网络。  （另见杰克逊（1963））。  Conway 等人报道的模拟研究。  (1967) 提供了将排队模型与作业车间调度相结合的极好例子。 自 1970 年代以来，随着在各个阶段结合计算机的制造新工艺的出现，排队理论结果的应用以及新技术的发展以惊人的速度发生。  Buzacott and Shanthikumar (1992) 和 Buzacott and Shanthikumar (1993) 一书中的三篇文章汇集了迄今为止排队理论在制造系统中应用的大部分重要进展。

正如 Buzacott 和 Shanthikumar (1993) 所描述的，“产品到订单”和“产品到库存”模型直接使用了排队理论的结果。将需求作为客户，将制造过程作为服务器，第一个模型是排队模型的直接应用，而第二个模型结合了生产-库存系统概念，生产系统替代了多个或无限数量的服务器。 其他应用包括作为串联队列的作业流线，以及作为排队网络的作业车间和灵活的制造系统。 一些最近的应用在第 12 章中讨论。 对于最近关于排队理论在制造系统建模中的应用的文章，读者还可以参考各种期刊，如 Management Science、European Journal of Operational Research、IIE Transactions、Computers and Industrial Engineering  ，以及有关生产和制造研究的期刊。

(vi) 专业模型 

1950 年代和 1960 年代的专业排队模型在计算机和通信系统的上下文中具有更广泛的适用性。我们在下面提到了三个引起相当关注的模型。

轮询模型 这些模型代表一个或多个服务器以循环方式向多个队列提供服务的系统（Koenigsberg (1958)）。 基于系统结构和队列规则的变化，出现了大量模型。 有关轮询模型的研究，请参阅 Boxma 和 Takagi（1992）以及 Takagi（1997）和 Hirayama 等人编辑的队列系统特刊。  (2004)，所有这些都提供了关于该主题的优秀参考书目。

假期模式 服务中断的排队系统并不少见。机器故障、维护操作导致的服务中断、循环服务器队列和计划作业流都是一些示例。 结果的一个关键特征是能够将它们分解为对应于没有假期的系统的结果和取决于与假期序列相关的分布的结果。 有关该主题的参考书目，请参见 Doshi (1986) 和 Alfa (2003)。

重试队列 在有限容量的系统中，客户被拒绝进入系统，试图再次进入，这是很常见的。 由于他们已经尝试获得一次服务，因此他们属于与原始客户不同的客户群。 与这种现象相关的问题已在文献中进行了广泛的探讨。 以下论文和最近发表在期刊上的论文为进一步研究提供了参考书目：Yang 和 Templeton (1987)、Falin (1990) 以及 Kulkarni 和 Liang (1997)。

(vii) 统计推断 

在任何随机建模理论中，在模型的应用中自然会出现统计问题。 确定合适的模型、从经验数据估计参数以及对未来操作进行推断都涉及统计程序。 这些甚至在 Erlang 研究的早期调查中也得到了认可。 参见 Brockmeyer 等人。  (1960)、莫利纳 (1927) 和弗莱 (1928)。

由于对排队系统中的底层过程有贡献的元素可以建模为随机变量及其分布，因此假设排队中的推理问题与一般统计中的此类问题没有任何不同是合理的。 然而，通常在现实世界的系统中，适用于数据收集以估计组成元素参数的抽样计划可能无法实施。

因此，有必要修改标准统计程序。Clarke (1957) 给出了估计问题的第一个理论处理方法，他导出了 M/M/1 排队系统中到达和服务率的最大似然估计。  Billingsley (1961) 对马尔可夫过程推理的一般处理和沃尔夫 (Wolff) (1965) 推导似然比检验和队列的最大似然估计可建模为出生和死亡过程是该领域的其他重大进展。 另请参阅 Cox (1965) 对与队列相关的统计问题的全面调查。  Cox 还为非马尔可夫队列中的推理调查提供了广泛的指南。

第一篇关于在非马尔可夫系统中估计参数的论文是由 Goyal 和 Harris (1972) 撰写的，他们使用嵌入的马尔可夫链的转移概率来建立似然函数。 从那时起，在使统计程序适应各种系统方面取得了重大进展。 一些例子是： Basawa and Prabhu (1981, 1988) 和 Acharya (1999) 考虑了队列 GI/G/1 中的参数估计问题； 饶等人。  (1984) 使用序列概率比技术控制 M/Ek/1 和 Ek/M/1 中的参数；  Armero (1994) 和 Armero and Conesa (2000) 使用贝叶斯技术在马尔可夫队列中进行推理； 蒂鲁瓦亚鲁等人。  (1991) 以及 Thiruvaiyaru 和 Basawa (1994) 将最大似然估计扩展到包括 Jackson 网络；  Pitts (1994) 认为队列是一个函数，它将服务和到达间隔时间分布函数映射到固定等待时间分布函数，以确定其置信区间。 有关队列中推理问题的全面调查，请参阅 Bhat 等人。  (1997)。 最近的调查是 Bhat 和 Basawa (2002) 在估计排队系统参数时使用队列长度和等待时间数据。 最近的一篇论文（Basawa 等人，2008 年）使用等待时间或系统逗留时间（必要时根据空闲时间进行调整）来估计 GI/G/1 队列中的到达间隔和服务时间参数。

(viii) 设计和控制 

对真实系统的研究是为了改进其设计、控制和有效性的目标。 直到 1960 年代，接受过数学优化技术培训的运筹学研究人员对排队问题感兴趣之前，主要是使用行为结果来处理运维问题。 应该指出的是，Erlang 对这个主题的兴趣是为他工作的公司构建更好的电话系统。 他的论文“关于电路数量的合理确定”（Brockmeyer 等人（1960））涉及确定最佳通道数量以减少系统中丢失的概率。

在计算机使它们过时之前，使用有效性测量的分析结果准备的图表和表格帮助了电话等通信系统的设计者。 其他例子是 Bailey (1952) 研究医院预约系统的论文，以及 Edie (1956) 分析收费站交通延误的论文。 从排队结果应用于现实问题的角度来看，莫尔斯 (1958) 的书一直受到高度重视。 这是因为他以一种吸引应用研究人员的方式介绍了当时可用的理论结果，并给出了改进系统设计的程序。

Hillier (1963) 关于工业等待线问题的经济模型的论文，也许是第一篇将标准优化技术引入排队问题的论文。 虽然 Hillier 考虑了 M/M/1 队列，但 Heyman (1968) 根据系统的状态导出了在 M/G/1 队列中打开和关闭服务器的最佳策略。

从那时起，接受过数学优化技术培训的运筹学研究人员探索了它们在大量排队系统中更复杂的用途。 对于一个很好的概述，一个有价值的参考是 Stidham (1995) 编辑的队列系统杂志的特刊，其中包括一些关于特殊主题的评论类型的文章。 另见 Béauerle (2002)，他考虑了排队网络中的最优控制问题。

(ix) 其他主题 

尽管在 1970 年代之前有一些关于离散时间队列的论文，但从那时起，这些系统由于时间的离散性，无论间隔多么短，在计算机和通信系统中都具有更大的意义。 不难想象，离散时间队列的大部分结果实际上是以与连续时间队列相同的方式推导出来的，但方法上有明显的修改。

随着诸如马尔可夫调制过程、标记点过程和批马尔可夫过程等改进过程的引入，随机过程的理论也取得了进展。 这些过程用于表示各种模式，例如流量中的突发性和异构性。

在前面的段落中，我们概述了排队理论的发展，确定了主要的发展和方向。 有关任何方面的详细信息，读者可以参考上面引用的文章和书籍。另请参阅 Prabhu (1987)，他提供了各种类别和子主题的书籍和调查论文的参考书目，Adan 等人。  (2001) 对具有多条等待线的队列进行了广泛的处理，而 Dshalalow (1997) 则考虑了具有状态相关参数的系统。 最后两篇文章还提供了广泛的参考书目。 希望在这些参考文献和现代互联网工具的帮助下，应用研究人员将能够建立在本文所涵盖的系统上，从而建立一个合适的模型来表示他们感兴趣的系统。

### 1.4 Modeling Exercises

这些练习是作为将随机现象建模为排队系统的介绍。 除了回答练习中提出的问题外，读者只需要确定 (i) 模型元素，(ii) 系统结构，以及 (iii) 在建立模型时必须做出的假设。
      1. 一家城市公交公司想要为其公交车队制定时间表。 为了科学地做到这一点，公司将这项工作委托给了一位拥有足够数据处理支持的运筹专家。描述此过程中涉及的排队系统以及需要收集以制定时间表的数据类型。 确定总线系统的性能度量以及系统运行时影响这些度量的因素。
   2. 一家新成立的企业希望以经济高效的方式决定其必须安装的电话线数量。 确定电话应答系统底层过程的要素，并指出需要收集的具体数据以建立系统参数。 还要确定感兴趣的绩效指标。

3. 在制造系统中，产品经历多个阶段（例如，汽车装配线），并且在每个阶段内可能有多个子阶段，包括部件测试。 如何将这样的系统建模为排队系统（包括阶段和子阶段的排队系统）以提高制造过程的性能？
4. 航空公司为旅客提供三种值机服务：（1）头等舱和商务舱值机，（2）普通值机，（3）自助值机。
   描述排队系统的结构，它可以代表签到系统，并确定需要知道的数据元素来衡量其性能。 还指出通过在系统操作中结合灵活性可能导致改进系统的复杂性.
5. 用于向计算机输入数据的多个终端共享一条通信线路。 终端以先到先得的方式使用线路，并在线路繁忙时排队等候。描述这个排队系统的元素，并确定分析系统特性所需的假设。  (艾伦 (1990))。
6. 在存储转发通信网络中，用于传输的消息存储在固定大小的缓冲区中。 每条消息可以使用一个或多个缓冲区。
   消息通过几个相同的通道传输。 知道到达过程、传输速率和消息长度的特性，我们对网络节点的存储需求感兴趣。
   描述该方法的一般特征，以估计此类系统的长期存储需求。
7. 在仓库中，物品的堆叠方式是最近堆叠的物品首先被移除。 为了使用排队模型来确定物品在仓库中存储的时间量，请描述此类系统的元素并说明我们如何表征感兴趣的时间间隔。
8. 为了减少短作业的等待时间，使用循环 (RR) 服务规则。 在 RR 队列规则下，每个作业在进入中央处理单元 (CPU) 时都会获得固定数量的服务，称为量程。 如果作业的服务需求超过量程，则将其送回等待作业队列的末尾。 这个过程一直持续到 CPU 可以为作业提供所需数量的服务量。描述如何表征作业的总服务时间，以确定作业在系统中花费的平均时间。  （这被称为平均响应时间。）（参见 Coffman 和 Kleinrock (1968) 以及 Coffman 和 Denning (1973)）。

9. 一个单编程计算机系统由一个 CPU 和一个磁盘驱动器组成。
   在 CPU 上通过一次后，作业可能需要磁盘 I/O 的服务，有一定的概率，比如 p，并且作业完成的概率为 1-p。
   磁盘服务时间分为三个独立的阶段：（1）寻道时间；  (2) 潜伏时间；  (3) 传输时间，每个都有指定的分布。 磁盘服务后，作业返回 CPU 以完成执行。  （请注意，在系统中的某个作业完成之前，uniprogramming 系统无法启动另一项作业。）我们感兴趣的是确定平均响应时间（等待时间 + 服务时间）。 什么类型的模型适合这个问题？ 如果排队模型合适，请描述系统的元素（Trivedi (2002)）。
10. 在鼓存储单元中，最短延迟时间优先 (SLTF) 文件鼓用于在鼓旋转时读取或写入文件上的记录。 一旦决定处理特定记录，等待记录进入固定读/写磁头所花费的时间称为延迟。记录不受任何特定强度的限制。 此外，对记录的起始位置没有限制。 假设滚筒的周长是长度单位，滚筒以恒定角速度旋转，周期为 τ (Fuller (1980))。假设要使用排队模型来分析上述滚筒存储单元的性能。 描述这样一个系统的要素以及对其性能评估要考虑的特征

## Chapter 2 System Element Models

### 2.1 Probability Distributions as Models

在为排队系统构建合适的模型时，我们从它的元素开始。在第 1 章提到的元素中，服务器数量、系统容量和规则通常是确定性的（除非可用服务器的数量成为随机变量，这在某些情况下也是可能的）。 但是存在与到达和服务相关的不确定性，这导致基础过程是随机的。

可以通过识别相似的组件，例如到达间隔时间和服务时间来显示到达和服务过程的相似性； 到达时期和离开时期。在这些对中，离开时期几乎总是来自非空系统，而到达时期大多与系统的状态无关（例外是可能的）。 因此，我们首先讨论使用某些概率分布来表示到达间隔时间和服务时间过程的可能性。 在下面讨论的泊松过程的情况下，考虑在给定时间长度内发生的事件数量的分布也很方便。

首先，我们应该注意到，根据基本过程的特性和便利性，我们可以使用连续分布或离散分布。在许多情况下，连续分布可能更容易分析处理（离散分布的代数可能很麻烦。）； 尽管如此，值得注意的是，连续模型和离散模型是相互类似的，并且大多数属性都适用于这两种情况。

保持一个通用的符号，我们使用 $Z_1, Z_2, .  .  .$ 作为代表连续客户的到达间隔时间或服务时间的非负随机变量。进一步，设
$$
F(x)=P(Z_n\le x),\\\ n=1,2,...
$$
我们还假设 $\{Z_n\}^∞ _{n=1}$ 是独立同分布的随机变量，记，
$$
E[Z_n]=b,\\\ n=1,2,...
$$
并将 $F(x)$ 的 Laplace-Stieltjes 变换定义为
$$
\psi(\theta)=\int^\infin_0e^{-\theta x}dF(x)\\\ Re(\theta)\ge0
$$
不难得到
$$
-\psi'(0)=b
$$
需要注意的是，当 $b$ 是平均发生间隔时间时，$1/b$ 是事件的发生率。

在考虑概率模型对随机现象的适用性时，模型分布的矩特性变得有用。 很多时候，前两个矩作为模型的参数出现。 此外，前几个矩描述了密度曲线的形状，因此，使它们成为选择模型的合适度量（例如，变异系数 (CV) = sd/mean；偏度系数 =（三次矩）/(sd)  3；峰态系数=（四阶矩）/（sd）4）。

常用的到达和服务分布模型是： 确定性的（当到达在指定的时间时期，或者到达间隔时间或服务时间是恒定长度时）； 指数（作为到达间隔时间或服务时间的分布模型）；  Poisson（作为指定时间长度内到达人数的分布）；  Erlang（作为到达间隔时间或服务时间的分布模型）； 以及这些分布的变体。 我们在以下讨论中介绍确定性分布、指数分布、泊松分布和 Erlang 分布，其余部分在附录 A 中。

**确定性分布 (D)**

记

<img src="C:\Users\Lenovo\AppData\Roaming\Typora\typora-user-images\image-20210826170643170.png" alt="image-20210826170643170" style="zoom: 50%;" />

我们有 $E(Z_n)=b$ 以及 $\psi(\theta)=e^{-\theta b}$​ ，此外，$V(Z_n)=0$

当到达发生在相等的时间间隔（间隔长度 $b$）或服务恰好需要 $b$ 个单位的时间时，这种看似简单的分布是合适的。 然而，在实践中，可能很难达到这种精确性。 提早或晚到、早或晚完成服务将更接近现实。 在这种情况下，确定性分布的假设应被视为真实系统的合理近似。

如果我们对事件的早期或晚期发生的精确模型感兴趣，我们可以将确定性时期的位移视为具有某种分布（如均匀分布或正态分布）的随机变量。 在这些条件下，第 $k$ 个调度事件的发生可能晚于第 $(k + 1)$ 个调度事件的发生。

**指数分布，泊松过程 (M)**

记

<img src="C:\Users\Lenovo\AppData\Roaming\Typora\typora-user-images\image-20210826171027381.png" alt="image-20210826171027381" style="zoom:50%;" />

然后我们得到

<img src="C:\Users\Lenovo\AppData\Roaming\Typora\typora-user-images\image-20210826171102815.png" alt="image-20210826171102815" style="zoom:50%;" />

可以得到

<img src="C:\Users\Lenovo\AppData\Roaming\Typora\typora-user-images\image-20210826171206756.png" alt="image-20210826171206756" style="zoom:50%;" />

此外，$V (Z_n) = \frac1 {λ^2}$​ 和 $CV (Z_n) = 1$。

令 $X(t)$​​ 是在时间 $t$​​ 发生的事件数，使得发生时间具有由 $F(x)$​ 给出的分布。 象征性地，对于随机过程 $X(t)$ 我们可以写成 
$$
X(t)=\max\{n|Z_1+Z_2+,...,Z_n\le t\}
$$
记

<img src="C:\Users\Lenovo\AppData\Roaming\Typora\typora-user-images\image-20210826171623486.png" alt="image-20210826171623486" style="zoom:50%;" />

其中 $F_n(t) = P(Z_1 + Z_2 + . . . . + Z_n ≤ t)$​ 作为 $F(t)$ 与自身的 $n$ 倍卷积获得。 使用 $F(t)$ 的拉普拉斯变换，我们发现
$$
\int_0^\infin e^{-\theta t}dF_n(t)=(\frac{\lambda}{\theta+\lambda})^n
$$
求反，得到

<img src="C:\Users\Lenovo\AppData\Roaming\Typora\typora-user-images\image-20210826171949736.png" alt="image-20210826171949736" style="zoom:50%;" />

因此得到

<img src="C:\Users\Lenovo\AppData\Roaming\Typora\typora-user-images\image-20210826172114511.png" alt="image-20210826172114511" style="zoom:50%;" />

这是一个具有平均 $λt$​ 的泊松分布。 因此，$X(t)$ 被称为泊松过程。

定义 $X(t)$ 的概率生成函数为 

<img src="C:\Users\Lenovo\AppData\Roaming\Typora\typora-user-images\image-20210826172218788.png" alt="image-20210826172218788" style="zoom:50%;" />

对于泊松过程，我们得到

<img src="C:\Users\Lenovo\AppData\Roaming\Typora\typora-user-images\image-20210826172241205.png" alt="image-20210826172241205" style="zoom:50%;" />

此外，$E[X(t)] = λt$​ 和 $V [X(t)] = λt$。

Poisson 过程是 Markov 过程的一个特例，将在下一章介绍。 它被广泛用于随机建模，因为它具有参考事件发生的特性以及表示事件的相应发生间隔时间的指数分布的特性。 下面给出了其中的两个：

（a）第一个描述了指数分布的无记忆特性，

（b）第二个生成了 Erlang 分布。

<img src="C:\Users\Lenovo\AppData\Roaming\Typora\typora-user-images\image-20210826172346013.png" alt="image-20210826172346013" style="zoom:50%;" />

这个性质的含义是，如果一个区间，例如服务时间，可以用指数分布表示，并且该区间在时间 t 持续进行，则该区间的剩余时间与原始时间具有相同的分布，无论 间隔的开始。 这个特性通常被称为指数分布的无记忆特性。

(b) 导致方程 (2.1.3) 的讨论意味着发生给定数量的泊松事件所需的时间具有由该表达式给出的分布，即，如果 $Y_n$​ 是直到第 $n$​ 次发生的等待时间并且 $\ Z_1, Z_2, .  .  . \}$​ 是发生间的时间

<img src="C:\Users\Lenovo\AppData\Roaming\Typora\typora-user-images\image-20210826172700683.png" alt="image-20210826172700683" style="zoom:50%;" />

以及

<img src="C:\Users\Lenovo\AppData\Roaming\Typora\typora-user-images\image-20210826172720282.png" alt="image-20210826172720282" style="zoom:50%;" />

(2.1.6) 给出的分布是参数为 $n$ 和 $λ$ 的伽马分布。 在排队论中，它通常被称为具有尺度参数 $n$ 的 Erlang 分布。 它用 $E_n$ 象征性地表示。 等式（2.1.3）也建立了一个有用的恒等式

<img src="C:\Users\Lenovo\AppData\Roaming\Typora\typora-user-images\image-20210826172804154.png" alt="image-20210826172804154" style="zoom:50%;" />

出于建模目的，泊松过程被认为是“随机”发生的事件的合适模型。 这种特性的原因取决于它在附录 A 中描述的特性； 具体而言，发生在非重叠时间间隔内的事件的独立性、与时间无关的恒定发生率、发生间时间的独立同分布性质，以及它与 (A.1.4) 中表示的均匀分布的关系 附录 A. Erlang 分布的重要性源于可以提供的相位解释，用于生成合适的到达或服务过程。

考虑泊松到达过程并假设排队系统允许第 k 个客户而不是所有到达的客户进入系统。 现在，有效到达排队系统的间隔时间是 $k$​ 个指数随机变量的和，均值为 $1/λ$，因此，它具有（2.1.6）给出的分布。

类似地，考虑一个服务过程，其中客户经历 $k$​​ 个服务阶段，每个阶段均以 $1/λ$​ 的平均值呈指数分布。 总服务时间具有分布 ($E_k$​)，由 (2.1.6) 给出，$n$ 替换为 $k$。

为了便于与 Poisson 和确定性过程进行比较，请考虑具有均值 $1/λ$​ 的 Erlang 分布 $F(x)$。 这可以通过从参数 $kλ$ 的指数分布开始来实现。 然后我们得到

<img src="C:\Users\Lenovo\AppData\Roaming\Typora\typora-user-images\image-20210826173111792.png" alt="image-20210826173111792" style="zoom:50%;" />

对于 $k = 1$​，我们有指数分布，它生成泊松过程。 为了确定 $f(x)$​ 的形式为 $k →∞$​，我们使用它的变换 $ψ(θ)$。我们有 

<img src="C:\Users\Lenovo\AppData\Roaming\Typora\typora-user-images\image-20210826173158689.png" alt="image-20210826173158689" style="zoom:50%;" />

产生的变换是常数 $1/λ$ 的变换，因此产生了（2.1.1）中给出的确定性分布。 根据 $k$ 的值，即使是中等大的 k 值（例如，$k = 10$ 或 15）也可能足以让 Erlang 表现出确定性分布的特性。

### 2.2 Identification of Models

在制定排队模型时，首先要确定其元素及其属性。 系统结构很容易确定。剩下的就是确定输入和服务过程的形式和属性。 在此分析中，四个主要步骤是必不可少的 (i) 数据收集，(ii) 时间平稳性检验，(iii) 独立性检验，以及 (iv) 分布选择和/或估计

#### 2.2.1 Collection of Data

为了估计系统元素的参数，必须建立一个抽样计划，以确定要参考特定参数收集的数据元素。例如，一个时间段内的到达次数给出了到达率或平均到达间隔时间，它们互为倒数。 有时倾向于使用经验性能度量来估计模型的内在参数。 例如，在一个 M/M/1 队列中，注意到交通强度（即到达与服务率的比率）为系统提供了利用率，我们可以使用经验利用率作为它的估计。  Cox (1965) 指出了这种方法的一些缺陷，他指出如果 $ρ$ 是交通强度，则这种方法的效率由 $1 − ρ$ 给出。 此外，请参阅 Burke 在 Cox 的文章之后的讨论，该文章关于将 M/M/s 损失系统中的负载因子估计为（系统中的平均客户数）/（1-损失概率）所导致的偏差。

观察的长度和模式是抽样计划中感兴趣的问题。 如果到达过程是泊松，Birnbaum (1954) 已经表明，观察系统直到发生特定数量的事件比观察特定时间提供更好的样本。 但是，当对过程一无所知时，就不能做出这样的声明，应在个别情况下考虑不同方案的效率。 抽样计划的另一个方面是观察模式； 对于所谓的快速阅读方法和系统抽样的讨论，读者可以分别参考 Cox (1965) 和 Cox (1962) 的第 86 页。

#### 2.2.2 Tests for Stationarity

Cox 和 Lewis (1966) 对随机过程中的平稳性检验进行了综合处理。 除了将事件发生的数据作为时间序列处理和确定计数过程的二阶属性外，他们还考虑了与更新过程相关的统计问题，并提供了一些一般性以及某些方面的显着性检验。 具体案例。  Lewis (1972) 更新了这项研究并考虑了诸如非齐次泊松过程的趋势分析之类的主题。

在许多排队系统（如机场和电话交通）中，到达过程的非平稳性会导致周期性行为。 此外，即使在考虑整个时期时该过程是非平稳的，也可以将其视为分段平稳过程，其中可以识别平稳时期（例如，高峰时段）。 在这种情况下，可用于检验过程平稳性以及识别平稳期的程序是 Mann-Whitney-Wilcoxon 检验（例如，参见 Conover (1971) 或 Randles 和 Wolfe（1979），或适当修改以处理 Putter (1959) 中的等级关系的测试。 通过考虑两个相邻的时间间隔 $(0, t_1]$​​​​​ 和 $(t_1, t_2]$​​​​​）并观察几个时间段内这些间隔内的到达次数，可以获得测试数据。设 $X_1,X_2,...  .  .  , X_n$​​​ 是 $n$​​​ 个周期的第一个间隔内的到达次数，并令 $Y_1, Y_2, .  .  .  , Y_m$​​ 是 $m$​​ 个周期的第二个间隔内的到达次数（通常 $m = n$​）。 如果 $F$​ 和 $G$​ 分别代表 $X $​和 $Y$​ 的分布，则要检验的假设是 $F = G$​ 与替代 $F \neq G$ 相对，为此可以使用 Mann-Whitney-Wilcoxon 统计量。 使用这个测试，可以描绘连续的平稳期，并且可以在这些时期内详细研究系统（参见 Moore (1975)，他给出了该过程的算法）。

为了分析上述类型的循环趋势，我们还可以使用 Lewis (1972) 针对非齐次泊松过程的特定情况描述的周期图方法。  Joseph 等人提出了非齐次泊松过程框架中的另一个测试。  (1990)。 他们考虑 $M/G/∞$ 队列的输出，其中假设 G 是已知的

#### 2.2.3 Tests for Independence

在制定排队模型时，为了简化和方便，对其元素进行了几个独立性假设。 因此，大多数模型假设到达间隔时间和服务时间是独立同分布的随机变量的独立序列。 如果有理由做出这样的假设，可以使用统计检验进行验证。一些可用于验证一系列观察的独立性的测试是点过程中的序列独立性测试，在 Lewis (1972) 中描述，以及用于趋势分析和更新过程的各种测试，由 Cox 和 Lewis (1966) 给出 . 为了验证到达间隔时间和服务时间之间的独立性假设，非参数检验似乎是合适的。Spearman 的 rho 和 Kendall 的 tau（Randles 和 Wolfe（1979），Hollander 等人。(2013)) 用于测试两个随机变量序列之间的相关性，而 Cramer-von Mises 类型统计（参见 Koziol 和 Nemec (1979) 以及其中引用的参考文献）用于直接根据独立性的定义测试双变量独立性 应用于随机变量。

#### 2.2 3 Distribution Selection

对于这个问题，读者可以参考应用统计和数据分析方面的书籍（例如，Venables 和 Ripley (2002)）。 建议从简单的分布开始，例如泊松分布和指数分布，因为在这些假设下的分析要简单得多。 毕竟，数学模型本质上是真实过程的近似。 模型越简单，就越容易分析和从中提取信息。 因此，在选择分布时应适当考虑模型复杂性的优势与我们从中获取有用信息的能力之间的权衡。

Erlang 和 hyperexponential 等分布与指数密切相关，并具有适当的参数值选择, they represent a wide variety of distributions. 如附录 A 所述，变异系数 ≤ 1 的 Erlang 和变异系数 ≥ 1 的超指数分布，形成了具有广泛分布特征的分布族，同时保留了基于马尔可夫性质的分析便利性。

一旦选择了分布模型，下一步就是确定将模型绑定到实际系统的参数值。 通常使用最大似然法或矩量法进行参数估计； 前者是首选，因为它具有理想的统计特性，而后者用于易于实现。 第 10 章讨论了排队论中的参数估计和假设检验。.

### 2.4 Review Exercises

1. 确定本章和附录 A 中介绍的以下分布的均值、方差和变异系数 (CV)。
   (i) 确定性, (2.1.1) 
   
   (ii) 指数, (2.1.2)
   
   (iii) 超指数, (A.3.1) 
   
   (iv) Erlang, (2.1.6), (A.4.1) 
   
   (v) 混合 Erlang, (A.5.1), (A.5.2) 
   
   (vi) 几何, (A.8.1) 
   
   (vii) 二项式, (A.8.3) 
   
   (viii) 负二项式, (A.8.4)

2. 确定拉普拉斯变换或概率生成函数（视情况而定），用于 Ex 下列出的分布。 

3. 确定 (i) 泊松过程 (A.2.1) (ii) 复合泊松过程 (A.2.2) 的概率生成函数

4. 使用拉普拉斯变换或概率生成函数重做练习 1，视情况而定。
5. 确定 t 的特定值、均值、方差和变异系数，用于 (i) 泊松过程 (ii) 复合泊松过程 
6. 确定结果 (2.1.7) 
7. 确定结果 (A.1.3)  ) 
8. 确定结果 (A.2.4) 
9. 确定 Ex. 下所列分布中均值参数的最大似然估计。  #1.

## Chapter 3 Basic Concepts in Stochastic Processes

### 3.1 Stochastic Process

在本章中，我们将介绍用于建模排队系统的基本概念。分析技术稍后会结合对特定系统的讨论而开发。

模型特征的不确定性导致我们将随机变量作为排队模型的基本构建块。 然而，随机变量定量地表示随机现象中的事件。 在排队系统以及随时间（或空间或任何其他参数）运行的所有系统中，模型必须能够表示随时间变化的系统。 这意味着我们需要一个序列或一系列随机变量来表示这种随时间推移的现象。 设 $T$​​​ 为感兴趣的时间范围。 时间可以是连续的，也可以是离散的。 我们表示连续时的时间 $t\in T$​​​ ，离散时表示 $n\in T$​​ 。 那么随机变量族 $\{X(t), t\in T\}$​ 或随机变量序列 $\{X_n, n\in T\}$ 被称为随机过程。  （随机变量的样本值可以看作是快照，而随机过程的样本路径可以看作是视频。） $X(t)$ 或 $X_n$ 取值的空间称为状态空间， $T$ 称为参数空间。 另一种说法是，随机过程是由参数索引的一系列或一系列随机变量。

排队系统的底层流程是到达和服务的产物。 它们可以是连续的或离散的。 即使我们定义了诸如等待时间之类的连续状态过程，到达和离开点也嵌入其中。 接下来的两节描述了排队系统分析中常用的过程。 由于一般平稳和非平稳随机过程不用于排队模型的分析，因此我们在讨论中不提供有关它们的任何信息

### 3.2 Point, Regenerative, and Renewal Processes

**Point Process**

考虑参数空间 $T$​​​ 中随机定位的离散点集。这些点可能代表诸如到达排队系统或在一段道路上发生事故等事件。 令 $N(t), t\in T$​​ 为 $(0, t]$​ 中的点。然后计数过程 $N(t)$ 被称为点过程（参见 Lewis (1972)）。在某些过程中，点可能是不同类型的。 例如，两类客户的到来。 然后将该过程标识为标记点过程。

**Regenerative Process**

考虑一个随机过程 {$X(t),$​​ $t\in T$​​​} 和一组离散的点 $t_1 < t_2 < .  .  .  < t_n\in T$​​。假设从 $t_i$​ 开始，过程的分布特性对于所有 $i = 1, 2, ...,n$ 都是相同的。然后我们可以考虑在这些点上自我再生的过程。

**Renewal Process**

考虑一组离散的点 $(t_0, t_1, t_2, ...)$​​​​，在这些点上指定的事件发生，并让 $t_i − t_{i−1} = Z_i (i = 1, 2, ...)$​​​ 是独立同分布的随机变量。 随机变量序列 $(Z_1，Z_2，...)$​​ 的过程称为更新过程。 设 $N(t)$​ 是表示在 $(0, t]$ 中发生的事件数量的过程。它被称为更新计数过程。周期 $Z_i (i = 1, 2, . .)$ 是更新周期。由于 更新周期是iid，很明显，更新过程也是一个再生过程。

### 3.3 Markov Process

排队论中广泛使用的一些简单模型是基于马尔可夫过程的。 假设，一个随机过程 {$X(t), t\in T$} 是这样的，即

<img src="C:\Users\Lenovo\AppData\Roaming\Typora\typora-user-images\image-20210826195032835.png" alt="image-20210826195032835" style="zoom:50%;" />

那么 {$X(t)$} 是一个马尔可夫过程。 当 $T$ 和状态空间是离散的时，并行定义为

<img src="C:\Users\Lenovo\AppData\Roaming\Typora\typora-user-images\image-20210826195106519.png" alt="image-20210826195106519" style="zoom:50%;" />

现在过程 {$X_n, n = 1, 2, ...  .  .$} 称为马尔可夫链。

这里展示的依赖结构是单步依赖，其中过程的状态仅依赖于过程的完整信息可用的最后一个参数点。 在接下来的章节中可以看出，马尔可夫依赖的性质简化了分析，同时保留了系统的基本特征。

由于马尔可夫过程中的时间参数具有特定范围，因此我们在其分析中使用过程的转移分布或概率。 这些是条件语句，以初始点 $t$ 的过程值为条件。无条件分布或概率（在离散情况下）可以通过去除条件的常用方法获得。

对于马尔可夫过程的转移概率，我们根据状态和参数空间的性质使用以下符号。

(i) 离散状态，离散参数（马尔可夫链）：

<img src="C:\Users\Lenovo\AppData\Roaming\Typora\typora-user-images\image-20210826195233684.png" alt="image-20210826195233684" style="zoom:50%;" />

(ii) 离散状态，连续参数（也称为连续时间马尔可夫链（CTMC））：

<img src="C:\Users\Lenovo\AppData\Roaming\Typora\typora-user-images\image-20210826195254416.png" alt="image-20210826195254416" style="zoom:50%;" />

(iii) 连续状态，离散参数

<img src="C:\Users\Lenovo\AppData\Roaming\Typora\typora-user-images\image-20210826195329721.png" alt="image-20210826195329721" style="zoom:50%;" />

(iv) 连续状态，连续参数：

<img src="C:\Users\Lenovo\AppData\Roaming\Typora\typora-user-images\image-20210826195350679.png" alt="image-20210826195350679" style="zoom:50%;" />

马尔可夫过程的基本性质由查普曼-柯尔莫哥洛夫关系给出。 对应上述四种情况，可以给出如下：

<img src="C:\Users\Lenovo\AppData\Roaming\Typora\typora-user-images\image-20210826195512871.png" alt="image-20210826195512871" style="zoom:50%;" />

<img src="C:\Users\Lenovo\AppData\Roaming\Typora\typora-user-images\image-20210826195620832.png" alt="image-20210826195620832" style="zoom:50%;" />

<img src="C:\Users\Lenovo\AppData\Roaming\Typora\typora-user-images\image-20210826195630852.png" alt="image-20210826195630852" style="zoom:50%;" />

当时间参数为离散时，考虑过程在两个时间段 $(m, r)$​​​​​​​​​ 和 $(r, n)$​​​​​​​​ 以及 $(s, u)$​​​​​​​ 和 $(u, t)$​​​​​​ 当时间参数为连续，并使用马尔可夫过程的基本定义。 例如，当状态和参数空间都是离散的时，在时间段 $(m, r)$​​​​​ 内从初始状态 $i$​​​​​ 到状态 $k (k \in S)$​​​​ 的转换概率是 $P^{(m,r)} _{ik}$​​​ 并且在时间段 $(r, n)$​​ 中，状态 $k$​ 到状态 $j$​ 是 $P^{(r,n)}_{ kj}$ 。 方程 (3.3.7) 现在通过将这两个概率相乘并对 $k\in S$ 的所有值求和来得出。 类似的论点建立（3.3.8）-（3.3.10）。

本书中考虑的排队系统的随机过程主要属于两类：离散状态和参数空间（上面的情况（i））和离散状态空间和连续参数空间（上面的情况（ii））。 我们提供了可以在此处和附录 B 中使用方程 (3.3.7) 和 (3.3.8) 进行分析的方法的概念框架。

**Case (i): Discrete State and Parameter Space**

让 {$X_n, n = 0, 1, 2 .  .  .$} 是一个时间齐次的马尔可夫链。 时间齐次是指 $k > 0$ 时的转移概率 $P^{(m,n)}_{ ij}$ 和 $P^{(m+k,n+k) }_{ij}$ 是相同的。 不失一般性，我们使用 $m = 0$ 并写成

<img src="C:\Users\Lenovo\AppData\Roaming\Typora\typora-user-images\image-20210826203551792.png" alt="image-20210826203551792" style="zoom:50%;" />

为方便起见，将 $P^{(1)}_{ ij} = P_{ij}$ 写为一步转移概率。 在矩阵符号中，我们有

<img src="C:\Users\Lenovo\AppData\Roaming\Typora\typora-user-images\image-20210826203730237.png" alt="image-20210826203730237" style="zoom:50%;" />

当 $n = 1$​​ 时，矩阵 $P ≡ P^{(1)}$​ 被称为转移概率矩阵。

请注意，对于 $n$​​ 的所有值，$0 ≤ P^{(n)} _{ij} ≤ 1$​ 并且 $P^{(n)}$ 的行总和（即 $\Sigma _{j \in S} P^{(n)} _{ij}$ ）都等于 1。 通过这些符号简化，（3.3.7）可以写成

<img src="C:\Users\Lenovo\AppData\Roaming\Typora\typora-user-images\image-20210826203957356.png" alt="image-20210826203957356" style="zoom:50%;" />

或者

<img src="C:\Users\Lenovo\AppData\Roaming\Typora\typora-user-images\image-20210826204058275.png" alt="image-20210826204058275" style="zoom:50%;" />

通过迭代 $r = 1, 2,...,n$ 的值，由此可知

<img src="C:\Users\Lenovo\AppData\Roaming\Typora\typora-user-images\image-20210826204135179.png" alt="image-20210826204135179" style="zoom:50%;" />

显示 $n$ 步转移概率由一步转移概率矩阵的 $n$ 次方的元素给出。

**Case (ii): Discrete State Space and Continuous Parameter Space**

在情况 (i) 中，考虑时间齐次马尔可夫过程，其中 $u > 0$​ 的转移概率 $P_{ij}(s, t)$​ 和 $P_{ij}(s+u, t+u)$ 是相同的。 不失一般性，使用 $s = 0$​ 并写成

<img src="C:\Users\Lenovo\AppData\Roaming\Typora\typora-user-images\image-20210826204935731.png" alt="image-20210826204935731" style="zoom:50%;" />

在矩阵符号中，状态 $i, j \in S$ 之间的转移概率可以作为矩阵的元素给出

<img src="C:\Users\Lenovo\AppData\Roaming\Typora\typora-user-images\image-20210826205009218.png" alt="image-20210826205009218" style="zoom:50%;" />

由于时间参数的连续性，在这种情况下我们不能得到类似于（3.3.13）的结果。 同样代替乘积表示，这里我们使用微分方程，从中可以确定 $P_{ij}(t)$。 首先请注意以下明显或假设的属性。

<img src="C:\Users\Lenovo\AppData\Roaming\Typora\typora-user-images\image-20210826205046418.png" alt="image-20210826205046418" style="zoom:50%;" />

请注意，性质 (i) 和 (ii) 从过渡结构中是显而易见的，并且 (iii) 是对 Chapman-Kolmogorov 关系的重述。 属性 (iv) 和 (v) 是推导微分方程所必需的（因此假设）。

使用泰勒级数展开式和 $\Delta t$ 作为 $t$ 的无穷小增量，我们可以写成 

<img src="C:\Users\Lenovo\AppData\Roaming\Typora\typora-user-images\image-20210826205150144.png" alt="image-20210826205150144" style="zoom:50%;" />

设置 $t = 0$

<img src="C:\Users\Lenovo\AppData\Roaming\Typora\typora-user-images\image-20210826205210518.png" alt="image-20210826205210518" style="zoom:50%;" />

重写这些方程并取极限为 $Δt → 0$，我们得到

<img src="C:\Users\Lenovo\AppData\Roaming\Typora\typora-user-images\image-20210826205240575.png" alt="image-20210826205240575" style="zoom:50%;" />

其中 $λ_{ij}$ 是这样的

<img src="C:\Users\Lenovo\AppData\Roaming\Typora\typora-user-images\image-20210826205309132.png" alt="image-20210826205309132" style="zoom:50%;" />

注意到 $λ_{ij}$ 是无穷小的跃迁率，很容易看出，(3.3.17) 是性质 $\Sigma_{j\in S} P_{ij}(t) = 1$ 的直接结果。这些跃迁率也称为生成器，显示在矩阵中 作为

<img src="C:\Users\Lenovo\AppData\Roaming\Typora\typora-user-images\image-20210826205420331.png" alt="image-20210826205420331" style="zoom:50%;" />

在具有离散状态的连续时间马尔可夫过程中，生成器矩阵 $A$ 在其分析中的作用与在马尔可夫链分析中的转移概率矩阵 $P$（矩阵 (3.3.12) 与 n = 1）的作用相同。

第 2 章和附录 A 中讨论的泊松过程是一个具有简单转换结构的马尔可夫过程。 令 {$X(t), t\in T$} 为参数为 $λ$ 的泊松过程，使得 

<img src="C:\Users\Lenovo\AppData\Roaming\Typora\typora-user-images\image-20210826205526056.png" alt="image-20210826205526056" style="zoom:50%;" />

（参见（B.2.2），附录 B。）

使用类似于推导（3.3.15）-（3.3.17）中使用的参数，我们可以证明无穷小跃迁率 $λ_{ij} = λ$​ for $j = i, i +  1$ 且 = 0，否则。

当泊松过程和相关的指数分布用于对排队系统建模时，它们的底层过程（例如系统中的客户数量）是马尔可夫过程，因此需要适用于马尔可夫过程的分析技术。

用于马尔可夫过程分析的微分方程基于 Chapman-Kolmogorov 关系，适用于时间间隔 $(t, t+Δt)$ 中过程的无穷小转变。 这些给出为

<img src="C:\Users\Lenovo\AppData\Roaming\Typora\typora-user-images\image-20210826205657839.png" alt="image-20210826205657839" style="zoom:50%;" />

该方程称为前向 Kolmogorov 方程，其推导见附录 B。

在矩阵表示法中，我们可以将方程写为

<img src="C:\Users\Lenovo\AppData\Roaming\Typora\typora-user-images\image-20210826205838777.png" alt="image-20210826205838777" style="zoom:50%;" />

因此，可以建模为马尔可夫过程的排队系统的行为分析涉及两个关键步骤：确定合适的 $λ_{ij}$ 值和所得方程的解（3.3.20）。 该过程的第一部分是根据马尔可夫过程中转换的性质完成的，所得微分方程使用标准数学/计算技术求解。 在许多应用中，可能不需要有限时间解决方案。 然后得到一个极限解，当 $t→∞$ 时，确定系统的极限行为。 这些程序将在需要时引入















































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































